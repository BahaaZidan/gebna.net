- [ ] Allow `onSuccessUpdateEmail`/`onSuccessDestroyEmail` to accept real email ids (not just `#creationId` references) when wiring implicit `Email/set` calls (`apps/backend/src/lib/jmap/method-handlers/email-submission-set.ts:690-748`).
- [ ] Emit `recordUpdate` rows whenever the submission queue or SES webhook mutates delivery status so `EmailSubmission/changes` subscribers learn about `sending/sent/failed` transitions (`apps/backend/src/lib/outbound/submission-queue.ts:106-200`, `apps/backend/src/ses-webhook.routes.ts:166-205`).
- [ ] When `processSingleSubmission` can’t load the target `Email`/blob (e.g., the user deleted it), mark that submission failed with a descriptive `deliveryStatus` instead of leaving it stuck in `pending` (`apps/backend/src/lib/outbound/submission-queue.ts:50-105`).
- [ ] Reclaim storage/quota when an `Email` is destroyed: once no other `account_message` references a canonical message, drop its `account_blob` rows and delete the orphaned `message`/`attachment`/`blob` records so `handleBlobUploadHttp`’s quota math reflects reality (`apps/backend/src/lib/jmap/method-handlers/email-set.ts:880-919`, `apps/backend/src/jmap.routes.ts:320-364`).
- [ ] Persist per-blob metadata (type/name) at upload time and include those fields in `Blob/get`, and expand `Blob/lookup` `typeNames` beyond `"Email"` so clients can resolve `EmailBodyValue` references as mandated by RFC 8621 (`apps/backend/src/lib/jmap/method-handlers/blob.ts:16-149`, `apps/backend/src/jmap.routes.ts:292-375`).
- [ ] Extend structured `Email/set` create to handle attachments referencing uploaded blobs (and fold them into the generated MIME) instead of limiting drafts to `textBody`/`htmlBody` only (`apps/backend/src/lib/jmap/method-handlers/email-set.ts:403-575`).
